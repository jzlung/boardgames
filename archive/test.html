<!DOCTYPE html>
<html>
  <head>
    <title>XHR test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.1/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.1/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <style>

    </style>

  </head>
  <body>
    <div class="crate"></div>
    <script type='text/babel'>
      const API_URL = "http://localhost:3000/id/161936";
      var xhr = new XMLHttpRequest();
      xhr.open('GET', API_URL, true);
      xhr.withCredentials = true;
      xhr.responseType = 'json';

      xhr.onload = function() {
        console.log(xhr.response);
      };

      xhr.onreadystatechange = function() {
        if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
          console.log(xhr);
        }
      }

      xhr.onerror = function(err) {
        console.log(xhr);
      };

      xhr.send();


    </script>
  </body>
</html>
